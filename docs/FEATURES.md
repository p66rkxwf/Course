# Course Master - 功能說明文檔

## 🎯 已實現功能

### 1. 完整的課表顯示系統

- ✅ 12 節次完整課表（週一到週五）
- ✅ 視覺化課程卡片，不同類型課程有不同顏色標識
  - 必修課：黃色
  - 選修課：綠色
  - 通識課：藍色
  - 語文課：紅色
- ✅ 課程詳情彈窗顯示
- ✅ 已選課程列表和學分統計
- ✅ 時間衝突檢測

### 2. 班級選擇和一鍵導入

- ✅ 學年度和學期選擇
- ✅ 系所下拉選單（動態載入）
- ✅ 班級下拉選單（根據系所動態生成）
- ✅ 一鍵導入該班級所有必選修課程
- ✅ 清空課表功能
- ✅ 本地存儲（刷新頁面不丟失數據）

### 3. 智慧推薦系統

- ✅ 根據空堂時段推薦課程
- ✅ 根據目標學分數推薦
- ✅ 課程類別篩選：
  - 通識課程（熱門）
  - 國文課程
  - 英文課程
  - 系外選修
- ✅ **部門篩選**：按學院和年級篩選推薦課程
- ✅ 熱門度排序（根據選課人數/上限人數）
- ✅ 課程卡片顯示：
  - 課程名稱、教師、學分
  - **部門信息**：學院、科系、年級、班級
  - 上課時間、地點
  - 選課人數和爆滿率
  - 加入課表按鈕

### 4. 歷年資料查詢

- ✅ 課程名稱搜尋
- ✅ 教師姓名搜尋
- ✅ 歷年開課記錄顯示：
  - 學年度、學期
  - **部門信息**：學院、科系、年級、班級
  - 課程名稱、教師
  - 上限人數、選上人數
  - 爆滿率
  - 上課時間
- ✅ 按學年度和學期排序

## 🛠️ 技術實現

### 前端技術

- **Bootstrap 5.3.2** - 響應式 UI 框架
- **Bootstrap Icons** - 圖標庫
- **Font Awesome 6.4.0** - 額外圖標
- **原生 JavaScript** - 無依賴，輕量高效

### 後端技術

- **FastAPI** - 現代化 Python Web 框架
- **Pandas** - 數據處理
- **JSON 文件存儲** - 追蹤數據持久化

### API 端點

#### 課程相關

- `GET /api/courses/all` - 獲取所有課程
- `GET /api/courses/search` - 搜尋課程
- `GET /api/courses/by-class` - 根據班級獲取課程
- `GET /api/courses/recommend` - 推薦課程（POST）
- `GET /api/courses/history` - 歷年資料查詢
- `GET /api/courses/stats` - 統計信息
- `GET /api/courses/{course_id}` - 課程詳情

#### 系所相關

- `GET /api/departments` - 獲取系所列表
- `GET /api/departments/colleges` - 獲取學院列表
- `GET /api/departments/stats` - 獲取部門統計信息

## 📁 文件結構

```
Final_Project/
├── web/
│   ├── index.html              # 主頁面（Bootstrap 版本）
│   └── assets/
│       ├── css/
│       │   └── style.css       # 自定義樣式
│       └── js/
│           └── main.js         # 主要 JavaScript 邏輯
├── src/
│   └── api/
│       ├── app.py              # FastAPI 主應用
│       └── tracking.py         # 追蹤功能模組
└── tracking.json               # 追蹤數據存儲（自動生成）
```

## 🚀 使用說明

### 啟動服務器

```bash
python main.py api
```

### 訪問網站

打開瀏覽器訪問：http://localhost:8000

### 主要操作流程

1. **選擇班級並導入課程**

   - 選擇學年度和學期
   - 選擇系所
   - 選擇班級
   - 點擊「一鍵導入」按鈕

2. **查看和調整課表**

   - 在「我的課表」頁面查看已選課程
   - 點擊課程卡片查看詳情
   - 可以手動移除不需要的課程

3. **使用智慧推薦**

   - 切換到「智慧推薦」頁面
   - 設置目標學分數
   - 選擇課程類別
   - 點擊「開始推薦」
   - 從推薦結果中選擇課程加入課表

4. **查詢歷年資料**

   - 切換到「歷年大數據」頁面
   - 輸入課程名稱或教師姓名
   - 查看歷年開課記錄

5. **追蹤課程缺額**
   - 在推薦結果中點擊「追蹤」按鈕
   - 切換到「缺額追蹤」頁面查看追蹤列表
   - 系統會自動監控，有人退選時會通知

## 🔧 配置說明

### API 服務器配置

在 `config/` 中修改：

```python
API_HOST = "localhost"
API_PORT = 8000
```

## 📝 注意事項

1. **數據載入**：首次使用需要確保已處理課程數據（運行 `python main.py process`）

2. **瀏覽器兼容性**：建議使用現代瀏覽器（Chrome、Firefox、Edge 最新版本）

3. **本地存儲**：課表數據保存在瀏覽器本地存儲中，清除瀏覽器數據會丟失

## 🎨 UI/UX 特色

- **響應式設計**：支持桌面和移動設備
- **改進的手機體驗**：側邊欄支援遮罩 (backdrop)、同步 aria 屬性以利無障礙操作、允許頁面自然滾動，並針對小螢幕調整課表最小寬度與字級。
- **手機友善課表檢視**：新增卡片式課表（自動於小螢幕顯示），並提供小螢幕下的「表格 / 卡片」檢視切換按鈕。
- **檢視偏好記住功能**：使用者手動切換後，系統會記住偏好（表格或卡片），下次開啟會套用相同檢視。
- **直觀的顏色標識**：不同類型課程有不同顏色
- **流暢的動畫效果**：卡片懸停、按鈕過渡動畫
- **即時反饋**：操作成功/失敗都有提示訊息
- **清晰的視覺層次**：使用 Bootstrap 組件保持一致性

## 🔮 未來改進方向

1. **用戶系統**：支持多用戶，個人化設置
2. **數據庫存儲**：使用數據庫替代 JSON 文件
3. **郵件通知**：實現真正的郵件通知功能
4. **課程評價**：添加課程評價和評分功能
5. **課表導出**：支持導出為 PDF 或圖片
6. **拖拽排序**：支持拖拽調整課程順序
7. **部門統計儀表板**：添加各學院、科系的課程統計和趨勢分析
8. **個人學習路徑規劃**：基於部門信息提供學業規劃建議
